syntax = "proto3";

package oresai.services;

import "oresai/objects/comment.proto";

service CommentService {
  rpc Add(AddCommentRequest) returns (oresai.objects.Comment);
  rpc List(ListCommentsRequest) returns (ListCommentsResponse);
}

message AddCommentRequest {
  int64 user_id = 1;
  string content = 2;

  oneof target {
    int64 article_id = 3;
    int64 memo_id = 4;
  }
}

message ListCommentsRequest {
  oneof target {
    int64 article_id = 1;
    int64 memo_id = 2;
  }
}

message ListCommentsResponse {
  repeated oresai.objects.Comment comments = 1;
}
