(********************************************************)
(*           AUTOGENERATED FILE - DO NOT EDIT!          *)
(********************************************************)
(* Generated by: ocaml-protoc-plugin                    *)
(* https://github.com/andersfugmann/ocaml-protoc-plugin *)
(********************************************************)
(*
  Source: oresai/objects/article.proto
  Syntax: proto3
  Parameters:
    debug=false
    annot='[@@deriving eq]'
    opens=[]
    int64_as_int=false
    int32_as_int=true
    fixed_as_int=false
    singleton_record=false
    prefix_output_with_package=true
*)
[@@@ocaml.alert "-protobuf"] (* Disable deprecation warnings for protobuf*)
(**/**)
module Runtime' = Ocaml_protoc_plugin [@@warning "-33"]
module Imported'modules = struct
  module Google_protobuf_timestamp = Google_protobuf_timestamp
  module Oresai_objects_tag = Oresai_objects_tag
end
(**/**)
module rec Oresai : sig
  module rec Objects : sig
    module rec ArticleState : sig
      type t =
        | ARTICLE_STATE_UNSPECIFIED
        | ARTICLE_STATE_PUBLISHED_PUBLIC
        | ARTICLE_STATE_PUBLISHED_PRIVATE
        | ARTICLE_STATE_DRAFT
      [@@deriving eq]
      val name: unit -> string
      (** Fully qualified protobuf name of this enum *)

      (**/**)
      val to_int: t -> int
      val from_int: int -> t Runtime'.Result.t
      val from_int_exn: int -> t
      val to_string: t -> string
      val from_string_exn: string -> t
      (**/**)
    end

    and Article : sig
      type t = {
        id:int64;
        user_id:int64;
        title:string;
        content:string;
        tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list;
        created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        state:ArticleState.t;
      } [@@deriving eq]
      val make: ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      (** Helper function to generate a message using default values *)

      val to_proto: t -> Runtime'.Writer.t
      (** Serialize the message to binary format *)

      val from_proto: Runtime'.Reader.t -> (t, [> Runtime'.Result.error]) result
      (** Deserialize from binary format *)

      val to_json: Runtime'.Json_options.t -> t -> Runtime'.Json.t
      (** Serialize to Json (compatible with Yojson.Basic.t) *)

      val from_json: Runtime'.Json.t -> (t, [> Runtime'.Result.error]) result
      (** Deserialize from Json (compatible with Yojson.Basic.t) *)

      val name: unit -> string
      (** Fully qualified protobuf name of this message *)

      (**/**)
      type make_t = ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      val merge: t -> t -> t
      val to_proto': Runtime'.Writer.t -> t -> unit
      val from_proto_exn: Runtime'.Reader.t -> t
      val from_json_exn: Runtime'.Json.t -> t
      (**/**)
    end

  end
end = struct
  module rec Objects : sig
    module rec ArticleState : sig
      type t =
        | ARTICLE_STATE_UNSPECIFIED
        | ARTICLE_STATE_PUBLISHED_PUBLIC
        | ARTICLE_STATE_PUBLISHED_PRIVATE
        | ARTICLE_STATE_DRAFT
      [@@deriving eq]
      val name: unit -> string
      (** Fully qualified protobuf name of this enum *)

      (**/**)
      val to_int: t -> int
      val from_int: int -> t Runtime'.Result.t
      val from_int_exn: int -> t
      val to_string: t -> string
      val from_string_exn: string -> t
      (**/**)
    end

    and Article : sig
      type t = {
        id:int64;
        user_id:int64;
        title:string;
        content:string;
        tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list;
        created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        state:ArticleState.t;
      } [@@deriving eq]
      val make: ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      (** Helper function to generate a message using default values *)

      val to_proto: t -> Runtime'.Writer.t
      (** Serialize the message to binary format *)

      val from_proto: Runtime'.Reader.t -> (t, [> Runtime'.Result.error]) result
      (** Deserialize from binary format *)

      val to_json: Runtime'.Json_options.t -> t -> Runtime'.Json.t
      (** Serialize to Json (compatible with Yojson.Basic.t) *)

      val from_json: Runtime'.Json.t -> (t, [> Runtime'.Result.error]) result
      (** Deserialize from Json (compatible with Yojson.Basic.t) *)

      val name: unit -> string
      (** Fully qualified protobuf name of this message *)

      (**/**)
      type make_t = ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      val merge: t -> t -> t
      val to_proto': Runtime'.Writer.t -> t -> unit
      val from_proto_exn: Runtime'.Reader.t -> t
      val from_json_exn: Runtime'.Json.t -> t
      (**/**)
    end

  end = struct
    module rec ArticleState : sig
      type t =
        | ARTICLE_STATE_UNSPECIFIED
        | ARTICLE_STATE_PUBLISHED_PUBLIC
        | ARTICLE_STATE_PUBLISHED_PRIVATE
        | ARTICLE_STATE_DRAFT
      [@@deriving eq]
      val name: unit -> string
      (** Fully qualified protobuf name of this enum *)

      (**/**)
      val to_int: t -> int
      val from_int: int -> t Runtime'.Result.t
      val from_int_exn: int -> t
      val to_string: t -> string
      val from_string_exn: string -> t
      (**/**)
    end = struct
      module This'_ = ArticleState
      type t =
        | ARTICLE_STATE_UNSPECIFIED
        | ARTICLE_STATE_PUBLISHED_PUBLIC
        | ARTICLE_STATE_PUBLISHED_PRIVATE
        | ARTICLE_STATE_DRAFT
      [@@deriving eq]
      let name () = ".oresai.objects.ArticleState"
      let to_int = function
        | ARTICLE_STATE_UNSPECIFIED -> 0
        | ARTICLE_STATE_PUBLISHED_PUBLIC -> 1
        | ARTICLE_STATE_PUBLISHED_PRIVATE -> 2
        | ARTICLE_STATE_DRAFT -> 3
      let from_int_exn = function
        | 0 -> ARTICLE_STATE_UNSPECIFIED
        | 1 -> ARTICLE_STATE_PUBLISHED_PUBLIC
        | 2 -> ARTICLE_STATE_PUBLISHED_PRIVATE
        | 3 -> ARTICLE_STATE_DRAFT
        | n -> Runtime'.Result.raise (`Unknown_enum_value n)
      let from_int e = Runtime'.Result.catch (fun () -> from_int_exn e)
      let to_string = function
        | ARTICLE_STATE_UNSPECIFIED -> "ARTICLE_STATE_UNSPECIFIED"
        | ARTICLE_STATE_PUBLISHED_PUBLIC -> "ARTICLE_STATE_PUBLISHED_PUBLIC"
        | ARTICLE_STATE_PUBLISHED_PRIVATE -> "ARTICLE_STATE_PUBLISHED_PRIVATE"
        | ARTICLE_STATE_DRAFT -> "ARTICLE_STATE_DRAFT"
      let from_string_exn = function
        | "ARTICLE_STATE_UNSPECIFIED" -> ARTICLE_STATE_UNSPECIFIED
        | "ARTICLE_STATE_PUBLISHED_PUBLIC" -> ARTICLE_STATE_PUBLISHED_PUBLIC
        | "ARTICLE_STATE_PUBLISHED_PRIVATE" -> ARTICLE_STATE_PUBLISHED_PRIVATE
        | "ARTICLE_STATE_DRAFT" -> ARTICLE_STATE_DRAFT
        | s -> Runtime'.Result.raise (`Unknown_enum_name s)

    end

    and Article : sig
      type t = {
        id:int64;
        user_id:int64;
        title:string;
        content:string;
        tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list;
        created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        state:ArticleState.t;
      } [@@deriving eq]
      val make: ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      (** Helper function to generate a message using default values *)

      val to_proto: t -> Runtime'.Writer.t
      (** Serialize the message to binary format *)

      val from_proto: Runtime'.Reader.t -> (t, [> Runtime'.Result.error]) result
      (** Deserialize from binary format *)

      val to_json: Runtime'.Json_options.t -> t -> Runtime'.Json.t
      (** Serialize to Json (compatible with Yojson.Basic.t) *)

      val from_json: Runtime'.Json.t -> (t, [> Runtime'.Result.error]) result
      (** Deserialize from Json (compatible with Yojson.Basic.t) *)

      val name: unit -> string
      (** Fully qualified protobuf name of this message *)

      (**/**)
      type make_t = ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      val merge: t -> t -> t
      val to_proto': Runtime'.Writer.t -> t -> unit
      val from_proto_exn: Runtime'.Reader.t -> t
      val from_json_exn: Runtime'.Json.t -> t
      (**/**)
    end = struct
      module This'_ = Article
      let name () = ".oresai.objects.Article"
      type t = {
        id:int64;
        user_id:int64;
        title:string;
        content:string;
        tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list;
        created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t option;
        state:ArticleState.t;
      } [@@deriving eq]
      type make_t = ?id:int64 -> ?user_id:int64 -> ?title:string -> ?content:string -> ?tags:Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag.t list -> ?created_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?updated_at:Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp.t -> ?state:ArticleState.t -> unit -> t
      let make ?(id = 0L) ?(user_id = 0L) ?(title = {||}) ?(content = {||}) ?(tags = []) ?created_at ?updated_at ?(state = ArticleState.from_int_exn 0) () = { id; user_id; title; content; tags; created_at; updated_at; state }
      let merge =
      let merge_id = Runtime'.Merge.merge Runtime'.Spec.( basic ((1, "id", "id"), int64, (0L)) ) in
      let merge_user_id = Runtime'.Merge.merge Runtime'.Spec.( basic ((2, "user_id", "userId"), int64, (0L)) ) in
      let merge_title = Runtime'.Merge.merge Runtime'.Spec.( basic ((3, "title", "title"), string, ({||})) ) in
      let merge_content = Runtime'.Merge.merge Runtime'.Spec.( basic ((4, "content", "content"), string, ({||})) ) in
      let merge_tags = Runtime'.Merge.merge Runtime'.Spec.( repeated ((5, "tags", "tags"), (message (module Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag)), not_packed) ) in
      let merge_created_at = Runtime'.Merge.merge Runtime'.Spec.( basic_opt ((6, "created_at", "createdAt"), (message (module Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp))) ) in
      let merge_updated_at = Runtime'.Merge.merge Runtime'.Spec.( basic_opt ((7, "updated_at", "updatedAt"), (message (module Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp))) ) in
      let merge_state = Runtime'.Merge.merge Runtime'.Spec.( basic ((8, "state", "state"), (enum (module ArticleState)), (ArticleState.from_int_exn 0)) ) in
      fun t1 t2 -> {
      	id = (merge_id t1.id t2.id);
      	user_id = (merge_user_id t1.user_id t2.user_id);
      	title = (merge_title t1.title t2.title);
      	content = (merge_content t1.content t2.content);
      	tags = (merge_tags t1.tags t2.tags);
      	created_at = (merge_created_at t1.created_at t2.created_at);
      	updated_at = (merge_updated_at t1.updated_at t2.updated_at);
      	state = (merge_state t1.state t2.state);
       }
      let spec () = Runtime'.Spec.( basic ((1, "id", "id"), int64, (0L)) ^:: basic ((2, "user_id", "userId"), int64, (0L)) ^:: basic ((3, "title", "title"), string, ({||})) ^:: basic ((4, "content", "content"), string, ({||})) ^:: repeated ((5, "tags", "tags"), (message (module Imported'modules.Oresai_objects_tag.Oresai.Objects.Tag)), not_packed) ^:: basic_opt ((6, "created_at", "createdAt"), (message (module Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp))) ^:: basic_opt ((7, "updated_at", "updatedAt"), (message (module Imported'modules.Google_protobuf_timestamp.Google.Protobuf.Timestamp))) ^:: basic ((8, "state", "state"), (enum (module ArticleState)), (ArticleState.from_int_exn 0)) ^:: nil )
      let to_proto' =
        let serialize = Runtime'.apply_lazy (fun () -> Runtime'.Serialize.serialize (spec ())) in
        fun writer { id; user_id; title; content; tags; created_at; updated_at; state } -> serialize writer id user_id title content tags created_at updated_at state

      let to_proto t = let writer = Runtime'.Writer.init () in to_proto' writer t; writer
      let from_proto_exn =
        let constructor id user_id title content tags created_at updated_at state = { id; user_id; title; content; tags; created_at; updated_at; state } in
        Runtime'.apply_lazy (fun () -> Runtime'.Deserialize.deserialize (spec ()) constructor)
      let from_proto writer = Runtime'.Result.catch (fun () -> from_proto_exn writer)
      let to_json options =
        let serialize = Runtime'.Serialize_json.serialize ~message_name:(name ()) (spec ()) options in
        fun { id; user_id; title; content; tags; created_at; updated_at; state } -> serialize id user_id title content tags created_at updated_at state
      let from_json_exn =
        let constructor id user_id title content tags created_at updated_at state = { id; user_id; title; content; tags; created_at; updated_at; state } in
        Runtime'.apply_lazy (fun () -> Runtime'.Deserialize_json.deserialize ~message_name:(name ()) (spec ()) constructor)
      let from_json json = Runtime'.Result.catch (fun () -> from_json_exn json)
    end

  end
end

